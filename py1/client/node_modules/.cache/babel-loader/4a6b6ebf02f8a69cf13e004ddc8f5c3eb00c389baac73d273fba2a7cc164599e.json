{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\joses\\\\OneDrive\\\\Desktop\\\\PY03-Desarrollo\\\\PY01-Desarrollo-de-Software\\\\py1\\\\client\\\\src\\\\assets\\\\components\\\\PinModal.jsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport \"../css/modal.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function PinModal({\n  card,\n  onClose\n}) {\n  _s();\n  const [step, setStep] = useState(1); // Paso 1: OTP, Paso 2: mostrar PIN\n  const [otp, setOtp] = useState(\"\");\n  const [status, setStatus] = useState(\"idle\"); // idle | loading | error | success\n  const [timer, setTimer] = useState(0);\n\n  // Validar OTP\n  const handleVerifyOtp = () => {\n    setStatus(\"loading\");\n    setTimeout(() => {\n      if (otp === \"123456\") {\n        // OTP simulado\n        setStep(2);\n        setStatus(\"success\");\n        setTimer(10); // 10 segundos de visualización\n      } else {\n        setStatus(\"error\");\n      }\n    }, 1000);\n  };\n\n  // Temporizador para autoocultar PIN\n  useEffect(() => {\n    if (step === 2 && timer > 0) {\n      const interval = setInterval(() => setTimer(t => t - 1), 1000);\n      return () => clearInterval(interval);\n    } else if (timer === 0 && step === 2) {\n      onClose();\n    }\n  }, [timer, step, onClose]);\n  const copyPin = () => {\n    navigator.clipboard.writeText(card.pin);\n    alert(\"PIN copiado al portapapeles\");\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"pin-modal-overlay\",\n    onClick: onClose,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"pin-modal-content\",\n      onClick: e => e.stopPropagation(),\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        className: \"modal-header\",\n        id: \"modal-title\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Consultar PIN\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"modal-close\",\n          onClick: onClose,\n          children: \"\\u2715\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this), step === 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-account-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Ingrese el c\\xF3digo de verificaci\\xF3n enviado por correo/SMS:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"C\\xF3digo OTP\",\n          value: otp,\n          onChange: e => setOtp(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleVerifyOtp,\n          disabled: status === \"loading\",\n          children: status === \"loading\" ? \"Verificando...\" : \"Verificar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 13\n        }, this), status === \"error\" && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"error\",\n          children: \"El c\\xF3digo no es v\\xE1lido o ha expirado.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 36\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 11\n      }, this), step === 2 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-account-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Tarjeta:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 16\n          }, this), \" \", card.type, \" **** **** **** \", card.number.slice(-4)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"CVV:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 16\n          }, this), \" \", card.cvv]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"PIN:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 16\n          }, this), \" \", card.pin]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Se ocultar\\xE1 en \", timer, \" segundos\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: copyPin,\n          children: \"Copiar PIN\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n}\n_s(PinModal, \"3lH12PNHUI4im37F6DNJyV4b+LM=\");\n_c = PinModal;\nvar _c;\n$RefreshReg$(_c, \"PinModal\");","map":{"version":3,"names":["useEffect","useState","jsxDEV","_jsxDEV","PinModal","card","onClose","_s","step","setStep","otp","setOtp","status","setStatus","timer","setTimer","handleVerifyOtp","setTimeout","interval","setInterval","t","clearInterval","copyPin","navigator","clipboard","writeText","pin","alert","className","onClick","children","e","stopPropagation","id","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","value","onChange","target","disabled","number","slice","cvv","_c","$RefreshReg$"],"sources":["C:/Users/joses/OneDrive/Desktop/PY03-Desarrollo/PY01-Desarrollo-de-Software/py1/client/src/assets/components/PinModal.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport \"../css/modal.css\";\r\n\r\nexport default function PinModal({ card, onClose }) {\r\n  const [step, setStep] = useState(1); // Paso 1: OTP, Paso 2: mostrar PIN\r\n  const [otp, setOtp] = useState(\"\");\r\n  const [status, setStatus] = useState(\"idle\"); // idle | loading | error | success\r\n  const [timer, setTimer] = useState(0);\r\n\r\n  // Validar OTP\r\n  const handleVerifyOtp = () => {\r\n    setStatus(\"loading\");\r\n    setTimeout(() => {\r\n      if (otp === \"123456\") { // OTP simulado\r\n        setStep(2);\r\n        setStatus(\"success\");\r\n        setTimer(10); // 10 segundos de visualización\r\n      } else {\r\n        setStatus(\"error\");\r\n      }\r\n    }, 1000);\r\n  };\r\n\r\n  // Temporizador para autoocultar PIN\r\n  useEffect(() => {\r\n    if (step === 2 && timer > 0) {\r\n      const interval = setInterval(() => setTimer((t) => t - 1), 1000);\r\n      return () => clearInterval(interval);\r\n    } else if (timer === 0 && step === 2) {\r\n      onClose();\r\n    }\r\n  }, [timer, step, onClose]);\r\n\r\n  const copyPin = () => {\r\n    navigator.clipboard.writeText(card.pin);\r\n    alert(\"PIN copiado al portapapeles\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"pin-modal-overlay\" onClick={onClose}>\r\n      <div className=\"pin-modal-content\" onClick={(e) => e.stopPropagation()}>\r\n        <header className=\"modal-header\" id=\"modal-title\">\r\n          <h2>Consultar PIN</h2>\r\n          <button className=\"modal-close\" onClick={onClose}>✕</button>\r\n        </header>\r\n\r\n        {step === 1 && (\r\n          <div className=\"modal-account-info\">\r\n            <p>Ingrese el código de verificación enviado por correo/SMS:</p>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Código OTP\"\r\n              value={otp}\r\n              onChange={(e) => setOtp(e.target.value)}\r\n            />\r\n            <button onClick={handleVerifyOtp} disabled={status === \"loading\"}>\r\n              {status === \"loading\" ? \"Verificando...\" : \"Verificar\"}\r\n            </button>\r\n            {status === \"error\" && <p className=\"error\">El código no es válido o ha expirado.</p>}\r\n          </div>\r\n        )}\r\n\r\n        {step === 2 && (\r\n          <div className=\"modal-account-info\">\r\n            <p><strong>Tarjeta:</strong> {card.type} **** **** **** {card.number.slice(-4)}</p>\r\n            <p><strong>CVV:</strong> {card.cvv}</p>\r\n            <p><strong>PIN:</strong> {card.pin}</p>\r\n            <p>Se ocultará en {timer} segundos</p>\r\n            <button onClick={copyPin}>Copiar PIN</button>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}